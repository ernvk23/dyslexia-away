/* Global font application - optimized selector order for performance */
html.opendyslexic-active *:not(svg):not(path):not([aria-hidden="true"]):not([role="img"]):not([data-icon]):not(pre):not(code):not(kbd):not(samp):not([class~="fa"]):not([class*="fa-"]):not([class*="icon"]):not([class*="symbol"]):not([class*="bi-"]):not([class*="glyph"]) {
    font-family: 'OpenDyslexic' !important;
    letter-spacing: var(--od-letter-spacing) !important;
    word-spacing: var(--od-word-spacing) !important;
}

/* Line height for reading content */
html.opendyslexic-active p,
html.opendyslexic-active blockquote,
html.opendyslexic-active article,
html.opendyslexic-active section,
html.opendyslexic-active main,
html.opendyslexic-active div[role="article"] {
    line-height: var(--od-line-height) !important;
}

/* Code and technical element protection */
html.opendyslexic-active:not(#_) pre,
html.opendyslexic-active:not(#_) code,
html.opendyslexic-active:not(#_) kbd,
html.opendyslexic-active:not(#_) samp,
html.opendyslexic-active:not(#_) script,
html.opendyslexic-active:not(#_) style,
html.opendyslexic-active:not(#_) pre *,
html.opendyslexic-active:not(#_) code *,
html.opendyslexic-active:not(#_) kbd *,
html.opendyslexic-active:not(#_) samp * {
    font-family: revert !important;
    letter-spacing: initial !important;
    word-spacing: initial !important;
}

/* Prevent font-weight compounding - use regular weight for all emphasis elements */
html.opendyslexic-active strong,
html.opendyslexic-active b,
html.opendyslexic-active em,
html.opendyslexic-active small,
html.opendyslexic-active mark,
html.opendyslexic-active cite,
html.opendyslexic-active q {
    font-weight: 400 !important;
    /* Force regular weight to prevent compounding */
}

/* Preserve italic styling for emphasis */
html.opendyslexic-active em {
    font-style: italic !important;
}